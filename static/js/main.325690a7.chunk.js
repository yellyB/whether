(this.webpackJsonpwhether=this.webpackJsonpwhether||[]).push([[0],{29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a,r,c,s,i=n(1),o=n.n(i),u=n(24),l=n.n(u),m=(n(29),n(3)),d=n.n(m),f=n(6),h=n(2),j=(n(31),n(32),n(5)),b=n.n(j),p=n(7);!function(e){e.POP="POP",e.PTY="PTY",e.PCP="PCP",e.REH="REH",e.SNO="SNO",e.SKY="SKY",e.TMP="TMP",e.TMN="TMN",e.TMX="TMX",e.UUU="UUU",e.VVV="VVV",e.WAV="WAV",e.VEC="VEC",e.WSD="WSD"}(a||(a={})),function(e){e[e["\ub9d1\uc74c"]=1]="\ub9d1\uc74c",e[e["\uad6c\ub984\ub9ce\uc74c"]=3]="\uad6c\ub984\ub9ce\uc74c",e[e["\ud750\ub9bc"]=4]="\ud750\ub9bc"}(r||(r={})),function(e){e[e["\uc5c6\uc74c"]=0]="\uc5c6\uc74c",e[e["\ube44"]=1]="\ube44",e[e["\ube44\ub208"]=2]="\ube44\ub208",e[e["\ub208"]=3]="\ub208",e[e["\uc18c\ub098\uae30"]=4]="\uc18c\ub098\uae30"}(c||(c={})),function(e){e.sun="sun",e.sunny="sunny",e.rain="rain",e.rain1="rain1",e.rainny="rainny",e.rainny1="rainny1",e.snow="snow",e.snowy="snowy",e.cloud="cloud",e.cloudy="cloudy",e.wind="wind",e.windy="windy",e.lightning="lightning",e.lightning1="lightning1",e.moon="moon",e.moony="moony"}(s||(s={}));var O=function(e){return Math.round(Number(e))},v=function(e){if(e.sky===r.\uad6c\ub984\ub9ce\uc74c||e.sky===r.\ud750\ub9bc)switch(e.pty){case c.\ube44:return s.rainny1;case c.\ube44\ub208:case c.\ub208:return s.snowy;case c.\uc18c\ub098\uae30:return s.rainny1;default:return e.sky===r.\uad6c\ub984\ub9ce\uc74c?s.cloud:s.cloudy}else switch(e.pty){case c.\ube44:return s.rainny;case c.\ube44\ub208:case c.\ub208:return s.snow;case c.\uc18c\ub098\uae30:return s.rainny;default:return s.sun}},x=function(e){switch(e){case 1:return"\ub0b4\uc77c";case 2:return"\ubaa8\ub808";case 3:return"\uae00\ud53c";default:return"\uc9c0\uae08"}},g=n(0),y=function(e){var t=e.values;return Object(i.useEffect)((function(){t.length>0&&(function(){var e=document.getElementById("chart");if(e.getContext){var t=e.getContext("2d"),n=t.createLinearGradient(0,0,0,250);n.addColorStop(0,"rgb(243 205 194 / 10%)"),n.addColorStop(.4,"white"),n.addColorStop(.6,"white"),n.addColorStop(1,"rgb(202 229 239 / 10%)"),t.fillStyle=n,t.fillRect(0,0,3800,250)}}(),function(){var e=document.getElementById("chart"),n=document.getElementById("chart");if(e.getContext){var a=e.getContext("2d"),r=(n.getContext("2d"),new Image),c=new Image,i=new Image,o=new Image,u=new Image,l=new Image,m=new Image,d=new Image,f=new Image,h=new Image;r.src="/whether/images/whether/sun.png",c.src="/whether/images/whether/sunny.png",i.src="/whether/images/whether/rain.png",o.src="/whether/images/whether/rain1.png",u.src="/whether/images/whether/rainny.png",l.src="/whether/images/whether/rainny1.png",m.src="/whether/images/whether/snow.png",d.src="/whether/images/whether/snowy.png",f.src="/whether/images/whether/cloud.png",h.src="/whether/images/whether/cloudy.png",h.onload=function(){var e=0,n=80;n+=4*Math.abs(t[0].tmp),a.strokeStyle="pink",a.lineWidth=3,a.beginPath();var c,i=Math.PI+2*Math.PI/2,o="",j=Object(p.a)(t);try{for(j.s();!(c=j.n()).done;){var O=c.value;e+=50;var g=n-4*O.tmp;a.lineTo(e,g),a.arc(e,g,3,0,i,!0);var y=v(O);if(a.drawImage(y===s.sun?r:y===s.rainny?u:y===s.rainny1?l:y===s.snow?m:y===s.snowy?d:y===s.cloud?f:y===s.cloudy?h:"",e-10,g-50,20,20),a.font="14px nexonGothic_Bold",a.fillStyle="red",a.fillText(O.tmp+"\u02da",e-10,g-10),a.font="10px nexonGothic",a.fillStyle=O.pop>=60?"skyblue":"gray",a.fillText(O.pop+"%",e-5,g+25),o===O.fcstDate){a.font="12px nexonGothic",a.fillStyle="darkgray";var w=O.fcstTime.substring(0,2)+"\uc2dc";a.fillText(w,e-10,220)}else{o=O.fcstDate;var N=b()(O.fcstDate).diff(b()().format("YYYYMMDD"),"days");a.font="12px nexonGothic_Bold",a.fillStyle="black",a.fillText(x(N),e-10,220)}}}catch(_){j.e(_)}finally{j.f()}a.stroke()}}}())}),[t]),Object(g.jsx)("div",{className:"chart_wrapper",children:Object(g.jsx)("canvas",{id:"chart",className:"chart",width:3800-5*t.length,height:250})})},w=function(e){var t=e.value,n=e.min,a=e.max,r=Object(i.useState)(s.sun),c=Object(h.a)(r,2),o=c[0],u=c[1];return Object(i.useEffect)((function(){u(v(t))}),[t]),Object(g.jsxs)("div",{className:"present_wrapper",children:[Object(g.jsx)("img",{alt:"sunny",src:"/whether/images/whether/"+o+".png",className:"present_whether_img"}),Object(g.jsxs)("div",{className:"present_text",children:[Object(g.jsxs)("div",{className:"present_current_text",children:[t.tmp,"\u2103"]}),Object(g.jsxs)("div",{className:"present_other_text",children:[n,"\u02da/ ",a,"\u02da",Object(g.jsx)("br",{}),Object(g.jsx)("img",{alt:"rainPer",src:"/whether/images/whether/rainPer.png",className:"present_rainPer_img"}),t.pop,"%"]})]})]})},N=w;w.defaultProps={value:{fcstDate:"",fcstTime:"",tmp:0,pop:0,pty:0,sky:1},min:0,max:0};n(34);var _=function(){var e=Object(i.useState)("0000\ub144 00\uc6d4 00\uc77c"),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)("00:00:00"),c=Object(h.a)(r,2),s=c[0];c[1];Object(i.useEffect)((function(){!function(){var e=new Date,t=(String(e.getFullYear()),String(e.getMonth())),n=String(e.getDate()),r=function(e){var t="";switch(e){case 0:t="\uc77c";break;case 1:t="\uc6d4";break;case 2:t="\ud654";break;case 3:t="\uc218";break;case 4:t="\ubaa9";break;case 5:t="\uae08";break;case 6:t="\ud1a0"}return t}(e.getDay());a("".concat(t,"\uc6d4 ").concat(n,"\uc77c ").concat(r,"\uc694\uc77c"))}()}),[]);var o=Object(i.useState)("dark"),u=Object(h.a)(o,2),l=u[0],m=u[1];return Object(i.useEffect)((function(){!function(){var e=document.getElementById("clock"),t="zero one two three four five six seven eight nine".split(" "),n={},a=["h1","h2",":","m1","m2",":","s1","s2"],r=e.getElementsByClassName("digits")[0];for(var c in a){var s=a[c];if(":"===s){var i=document.createElement("div");i.setAttribute("class","dots"),r.appendChild(i)}else{for(var o=document.createElement("div"),u=1;u<8;u++){var l=document.createElement("span");l.setAttribute("class","d"+u),o.appendChild(l)}n[s]=o,r.append(o)}}var m,d="MON TUE WED THU FRI SAT SUN".split(" "),f=e.getElementsByClassName("weekdays")[0],h=Object(p.a)(d);try{for(h.s();!(m=h.n()).done;){var j=m.value,O=document.createElement("span");O.innerHTML=j,f.appendChild(O)}}catch(x){h.e(x)}finally{h.f()}var v=e.getElementsByClassName("weekdays")[0];!function e(){var a=b()().format("HHmmssdA");n.h1.setAttribute("class",t[a[0]]),n.h2.setAttribute("class",t[a[1]]),n.m1.setAttribute("class",t[a[2]]),n.m2.setAttribute("class",t[a[3]]),n.s1.setAttribute("class",t[a[4]]),n.s2.setAttribute("class",t[a[5]]);var r=a[6];--r<0&&(r=6),v.classList.remove("active"),v.childNodes[r].setAttribute("class","active"),setInterval(e,1e3)}()}()}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"time_wrapper",children:[Object(g.jsx)("div",{id:"clock",className:l,children:Object(g.jsxs)("div",{className:"display",children:[Object(g.jsx)("div",{className:"weekdays"}),Object(g.jsx)("div",{className:"ampm"}),Object(g.jsx)("div",{className:"digits"})]})}),Object(g.jsx)("div",{className:"time_date",children:n}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{className:"time_theme_btn",onClick:function(){m("dark"===l?"light":"dark")},children:"\ubaa8\ub4dc \ubcc0\uacbd"})})]}),Object(g.jsxs)("div",{className:"time_wrapper",children:[Object(g.jsx)("span",{className:"time_nowTime_time",children:s}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{className:"time_nowTime_date",children:n})]})]})},k=function(){var e=Object(i.useRef)(null),t=Object(i.useState)(1),n=Object(h.a)(t,2),a=n[0],r=n[1],c=function(){r((function(e){return e<3?e+1:0}))};return Object(i.useEffect)((function(){return e.current=setInterval(c,500),function(){return clearInterval(e.current)}}),[]),Object(g.jsx)("div",{className:"app_loading",children:Object(g.jsx)("div",{className:"app_loading_imgs",children:Array.from({length:a},(function(e,t){return t})).map((function(e){return Object(g.jsx)("img",{alt:"loading",src:"/whether/images/icon/loading"+e+".png",className:"loading_img"},e)}))})})},S=function(){return Object(g.jsx)("div",{className:"footer",children:"\ub0a0\uc528\uc758 \ucc38\uacac by.yellyB"})},T=function(e){var t=e.dummyLoad;return Object(g.jsxs)("div",{className:"dataLoadFail",children:["\uc11c\ubc84\uc640\uc758 \ud1b5\uc2e0 \ubb38\uc81c\ub85c \ub370\uc774\ud130 \ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",Object(g.jsx)("br",{})," \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4 \ubc14\ub78d\ub2c8\ub2e4.",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsxs)("button",{onClick:function(){return t()},children:["\uc784\uc2dc \ub370\uc774\ud130\ub85c \ubcf4\uae30 ","->"]})]})},E=n(14),M=n(11),D=n.n(M),Y=n(13),C=n.n(Y),I=function(){var e=Object(f.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={data:[],min:0,max:0},e.next=3,D.a.get(t).then(function(){var e=Object(f.a)(d.a.mark((function e(t){var c,s,i,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("<"===t.data[0]?"\uc2e4\ud328":"\uc131\uacf5"),"<"!==t.data[0]){e.next=3;break}return e.abrupt("return",r);case 3:if(200!==t.status){e.next=20;break}return c=t.data.response.body.items.item,s=[],i={fcstDate:n?b()().format("YYYYMMDD"):c[0].fcstDate,fcstTime:c[0].fcstTime,tmp:Number(c[0].fcstValue),pop:0,pty:0,sky:0},c.forEach((function(e){(n||b()().isBefore(b()(e.fcstDate+" "+e.fcstTime.substring(0,2)+"59")))&&(i.fcstTime!==e.fcstTime?(i.fcstDate=n?b()().format("YYYYMMDD"):e.fcstDate,i.fcstTime=e.fcstTime,i.tmp=Number(e.fcstValue),s.push(Object(E.a)({},i))):"POP"===e.category?i.pop=Number(e.fcstValue):"PTY"===e.category?i.pty=Number(e.fcstValue):"SKY"===e.category&&(i.sky=Number(e.fcstValue)))})),s.push(Object(E.a)({},i)),e.next=11,C.a.find(c,(function(e){return e.category===a.TMN}));case 11:return o=e.sent,e.next=14,C.a.find(c,(function(e){return e.category===a.TMX}));case 14:u=e.sent,r.min=O(o.fcstValue),r.max=O(u.fcstValue),r.data=s,e.next=21;break;case 20:console.log("response error");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("error:",e)}));case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,D.a.get("/whether/datas/cody.json").then((function(e){t=e.data})).catch((function(e){return console.log("error:",e)}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,D.a.get("/whether/datas/items.json").then((function(e){t=e.data})).catch((function(e){return console.log("error:",e)}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){var t=e.value,n=e.keys,a=e.setKey,r=Object(i.useState)([]),c=Object(h.a)(r,2),s=c[0],o=c[1],u=function(){var e=Object(f.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P().then((function(e){return e})).then((function(e){var a,r=Object(p.a)(e);try{for(r.s();!(a=r.n()).done;){var c=a.value;if(t.tmp>=c.value)return void(n=c)}}catch(s){r.e(s)}finally{r.f()}})).catch((function(){console.log("error from component [Recommand]")}));case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useLayoutEffect)((function(){u().then((function(e){if(e){var t=e.cloths.split(",");o(t),a(t[0])}}))}),[t]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"recommand_flex_wrapper",children:s.map((function(e,t){return Object(g.jsx)("div",{className:n===e?"recommand_flex_item recommand_flex_item_selected":"recommand_flex_item",onClick:function(t){return a(e)},children:e},e)}))})})},A=function(e){var t,n=e.data;return Object(g.jsxs)("div",{className:"siteList_items",children:[Object(g.jsx)("div",{className:"item_flex-container",children:Object(g.jsx)("img",{className:"item_img",alt:"img",src:"/whether/images/items/"+n.idx+".jpg"})}),Object(g.jsxs)("div",{className:"item_flex-container",children:[Object(g.jsx)("span",{className:"item_font1",children:n.name}),Object(g.jsx)("br",{}),Object(g.jsxs)("span",{className:"item_font2",children:[n.brand," [",n.itemNo,"]"]}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{className:"item_font3",children:(t=n.price,String(t).replace(/\B(?=(\d{3})+(?!\d))/g,","))}),Object(g.jsx)("br",{}),Object(g.jsxs)("span",{className:"item_font4",children:["\uad6c\ub9e4\ud558\ub7ec \uac00\uae30 ",">"," "]})]})]})},L=function(){var e=Object(i.useState)([]),t=Object(h.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){V().then((function(e){return e})).then((function(e){a(e)})).catch((function(){console.log("error from component [SiteList]")}))}),[]),Object(g.jsx)("div",{className:"siteList_wrapper",children:n.length>0&&Array.from({length:4},(function(e,t){return t})).map((function(e){return Object(g.jsx)(A,{data:n[(t=10*e,a=10*(e+1),t=Math.ceil(t),a=Math.floor(a),Math.floor(Math.random()*(a-t))+t)]},e);var t,a}))})},K=function(){return Object(g.jsxs)("div",{className:"divider_wrapper",children:[Object(g.jsx)("div",{className:"divider"}),Object(g.jsx)("div",{className:"recommand_text",children:"\ucd94\ucc9c \uc544\uc774\ud15c"}),Object(g.jsx)("div",{className:"divider"})]})},U=function(e){var t=Object(i.useState)(""),n=Object(h.a)(t,2),a=n[0],r=n[1];return Object(g.jsxs)("div",{className:"recommand_container",children:[Object(g.jsx)(K,{}),Object(g.jsxs)("div",{className:"recommand_n_site",children:[Object(g.jsx)(B,{value:e.value,keys:a,setKey:function(e){r(e)}}),Object(g.jsx)(L,{},a)]})]})},H=function(){var e=Object(i.useState)(!0),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)({serviceKey:"rSzra4lWkesK5rHQ2eKEjLr46yqb%2BstwqooY4ckqtC%2FL26xtiLJpHsugsba3jq2BfWyHdzC4DEYXU%2Bfsf41a7w%3D%3D",numOfRows:1e3,pageNo:1,dataType:"JSON",base_date:b()().format("YYYYMMDD"),base_time:"0200",nx:55,ny:127}),c=Object(h.a)(r,1)[0],s=Object(i.useState)("https://yelly-cors-anywhere.herokuapp.com/"),o=Object(h.a)(s,1)[0],u=Object(i.useState)("http://apis.data.go.kr"),l=Object(h.a)(u,1)[0],m=Object(i.useState)([]),j=Object(h.a)(m,2),p=j[0],O=j[1],v=Object(i.useState)({}),x=Object(h.a)(v,2),w=x[0],E=x[1],M=Object(i.useState)(0),D=Object(h.a)(M,2),Y=D[0],C=D[1],P=Object(i.useState)(0),V=Object(h.a)(P,2),B=V[0],A=V[1],L=function(){var e=Object(f.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,n).then((function(e){a=e}));case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){var e="/1360000/VilageFcstInfoService_2.0/getVilageFcst?serviceKey=".concat(c.serviceKey,"&pageNo=1&numOfRows=").concat(c.numOfRows,"&dataType=").concat(c.dataType,"&base_date=").concat(c.base_date,"&base_time=").concat(c.base_time,"&nx=").concat(c.nx,"&ny=").concat(c.ny);L(o+l+e,!1).then((function(e){O(e.data),E(void 0!==e.data&&e.data[0]),C(e.min),A(e.max)})).finally((function(){a(!1)})),document.querySelector("title").innerText="\ub0a0\uc528\uc758 \ucc38\uacac"}),[]),Object(g.jsxs)("div",{className:"app_wrapper",children:[n&&Object(g.jsx)(k,{}),p.length>0||n?Object(g.jsxs)("div",{className:"app_content",children:[Object(g.jsxs)("div",{className:"upper_part",children:[Object(g.jsxs)("div",{className:"time_n_present_wrapper",children:[Object(g.jsx)(_,{}),Object(g.jsx)(N,{value:w,min:Y,max:B})]}),Object(g.jsx)(y,{values:p})]}),Object(g.jsx)(U,{value:w})]}):Object(g.jsx)(T,{dummyLoad:function(){L("/whether/datas/dummy.json",!0).then((function(e){O(e.data),E(void 0!==e.data&&e.data[0]),C(e.min),A(e.max)}))}}),Object(g.jsx)(S,{})]})};l.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(H,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.325690a7.chunk.js.map